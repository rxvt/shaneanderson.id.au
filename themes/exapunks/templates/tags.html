{% extends "base.html" %}

{% block title %}Tags - {{ SITENAME }}{% endblock %}

{% block file_name %}tags.exa{% endblock %}

{% block content %}
<div class="post">
  <div class="code-line"><span class="line-number">01</span><span class="opcode">SCAN</span> <span class="arg">TAG_INDEX</span></div>
  <div class="code-line"><span class="line-number">02</span><span class="opcode">LOAD</span> <span class="arg">ALL_TAGS</span></div>
  <div class="code-line"><span class="line-number">03</span><span class="comment">// FOUND {{ tags|length }} TAGS</span></div>
</div>

{% for tag, articles in tags %}
<div class="post">
  <div class="code-line"><span class="line-number">{{ "{:02d}".format(loop.index + 3) }}</span><span class="opcode">TAG</span> <a href="{{ SITEURL }}/{{ tag.url }}" class="arg">{{ tag }}</a> <span class="value">[{{ articles|length }} entries]</span></div>
  {% for article in articles[:2] %}
  <div class="code-line"><span class="line-number">{{ "{:02d}".format(loop.index + 10) }}</span><span class="opcode">ITEM</span> <a href="{{ SITEURL }}/{{ article.url }}" class="value">"{{ article.title }}"</a></div>
  {% endfor %}
  {% if articles|length > 2 %}
  <div class="code-line"><span class="line-number">99</span><span class="comment">// ... and {{ articles|length - 2 }} more</span></div>
  {% endif %}
</div>
{% endfor %}
{% endblock %}